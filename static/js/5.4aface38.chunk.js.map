{"version":3,"sources":["shared/enhancers/withConnectedReactRouter.js","settings/actions/settingsActions.js","landing/components/stepper.jsx","landing/styles/stepperStyles.js","landing/pages/firstLandingPage.jsx","landing/actions/landingActions.js","landing/components/timer.jsx","landing/styles/timerStyles.js","landing/pages/landingPage.jsx","landing/styles/landingPageStyles.js","landing/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","connected_react_router__WEBPACK_IMPORTED_MODULE_2__","withConnectedReactRouter","Component","connect","push","replace","go","goBack","goForward","props","a","createElement","SETTINGS_TOGGLE_TOGGLES","SettingsActions","SETTINGS_FETCH_TOGGLES","toggleToggles","toggledToggles","dispatch","getState","toggles","_","get","resultToggles","Object","_Users_xcsun_sugar_facilitator_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","forEach","value","localforage","setItem","then","type","fetchToggles","getItem","arguments","length","undefined","Stepper","_renderNextButton","_this$props","_this","handleNext","activeStep","steps","react_default","Button_default","size","onClick","disabled","KeyboardArrowRight_default","_this$props2","this","classes","MobileStepper_default","variant","position","className","root","nextButton","enhancers","flowRight","withStyles","maxWidth","flexGrow","justifyContent","background","FirstLandingPage","stepper","LANDING_FETCH_LANDING_STATUS","LandingActionTypes","LANDING_FETCH_LANDING_PAGE","Timer","state","count","counter","_hanleCount","handleDone","nextCount","setState","clearInterval","interval","setInterval","theme","border","textAlign","paddingLeft","paddingRight","margin","fontSize","color","palette","secondary","light","top","right","zIndex","LandingPage","_handleNext","isFirstLanding","fetchLandingStatus","fetchLandingPage","brand","timer","mapDispatchToProps","Promise","resolve","left","bottom","maxHeight","Landing","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","landingAnimation","Switch","Route","exact","path","component"],"mappings":"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","file":"static/js/5.4aface38.chunk.js","sourcesContent":["// @flow\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { push, replace, go, goBack, goForward } from 'connected-react-router';\n\nconst withConnectedReactRouter = (Component: *) => {\n  const WithConnectedReactRouter = (props: *) => <Component {...props} />;\n\n  return connect(\n    () => ({}),\n    { push, replace, go, goBack, goForward }\n  )(WithConnectedReactRouter);\n};\n\nexport default withConnectedReactRouter;\n","// @flow\n\nimport SettingsActions from './settingsActionTypes';\nimport localforage from 'localforage';\nimport _ from 'lodash';\n\nconst { SETTINGS_TOGGLE_TOGGLES, SETTINGS_FETCH_TOGGLES } = SettingsActions;\n\nexport const toggleToggles = (toggledToggles: Array<string>) => {\n  return (dispatch, getState) => {\n    const toggles = _.get(getState(), 'app.settings.togglesPage.toggles');\n    const resultToggles = { ...toggles };\n    _.forEach(\n      toggledToggles,\n      value => value && (resultToggles[value] = !resultToggles[value])\n    );\n\n    localforage.setItem('toggles', resultToggles).then(toggles => {\n      return dispatch({\n        type: SETTINGS_TOGGLE_TOGGLES,\n        toggles\n      });\n    });\n  };\n};\n\nexport const fetchToggles = () => {\n  return dispatch => {\n    return localforage.getItem('toggles').then((toggles = {}) => {\n      dispatch({\n        type: SETTINGS_FETCH_TOGGLES,\n        toggles\n      });\n\n      return toggles;\n    });\n  };\n};\n","// @flow\n\nimport React, { Component } from 'react';\nimport _ from 'lodash';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\n\nimport StepperStyles from '../styles/stepperStyles';\n\ntype Props = {\n  activeStep: number,\n  steps: number,\n  classes: *,\n  handleNext: () => void\n};\n\nclass Stepper extends Component<Props> {\n  _renderNextButton = () => {\n    const { handleNext, activeStep, steps } = this.props;\n\n    return (\n      <Button\n        size=\"small\"\n        onClick={handleNext}\n        disabled={activeStep === steps - 1}\n      >\n        <KeyboardArrowRight />\n      </Button>\n    );\n  };\n\n  render() {\n    const { classes, activeStep, steps } = this.props;\n\n    return (\n      <MobileStepper\n        variant=\"dots\"\n        steps={steps}\n        position=\"bottom\"\n        activeStep={activeStep}\n        className={classes.root}\n        nextButton={this._renderNextButton()}\n      />\n    );\n  }\n}\n\nconst enhancers = _.flowRight(withStyles(StepperStyles));\n\nexport default enhancers(Stepper);\n","export default {\n  root: {\n    maxWidth: 400,\n    flexGrow: 1,\n    justifyContent: 'center',\n    background: 'rgba(0, 0, 0, 0)'\n  }\n};\n","// @flow\n\nimport React, { Component } from 'react';\n\nimport Stepper from '../components/stepper';\n\ntype Props = {};\n\nclass FirstLandingPage extends Component<Props> {\n  render() {\n    return (\n      <div>\n        <Stepper />\n      </div>\n    );\n  }\n}\n\nexport default FirstLandingPage;\n","// @flow\n\nimport LandingActionTypes from './landingActionTypes';\n\nconst {\n  LANDING_FETCH_LANDING_STATUS,\n  LANDING_FETCH_LANDING_PAGE\n} = LandingActionTypes;\n\nexport const fetchLandingStatus = () => {\n  return (dispatch: *) => {\n    new Promise(resolve => resolve({})).then(value => {\n      dispatch({\n        type: LANDING_FETCH_LANDING_STATUS,\n        value\n      });\n    });\n  };\n};\n\nexport const fetchLandingPage = () => {\n  return {\n    type: LANDING_FETCH_LANDING_PAGE\n  };\n};\n","// @flow\n\nimport React, { Component } from 'react';\nimport _ from 'lodash';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TimerStyles from '../styles/timerStyles';\n\ntype Props = {\n  counter: number,\n  handleDone: () => void\n};\n\nclass Timer extends Component<Props> {\n  state = {\n    count: this.props.counter\n  };\n\n  _hanleCount = () => {\n    const { count } = this.state;\n    const { handleDone } = this.props;\n\n    const nextCount = count - 1;\n    this.setState({ count: nextCount });\n\n    if (nextCount === 0) {\n      handleDone && handleDone();\n      clearInterval(this.interval);\n    }\n  };\n\n  componentDidMount() {\n    this.interval = setInterval(this._hanleCount, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { count } = this.state;\n\n    return <div className={classes.count}>{count}</div>;\n  }\n}\n\nconst enhancers = _.flowRight(withStyles(TimerStyles));\n\nexport default enhancers(Timer);\n","export default theme => ({\n  count: {\n    border: 'dashed white',\n    position: 'fixed',\n    textAlign: 'right',\n    paddingLeft: '0.5rem',\n    paddingRight: '0.5rem',\n    margin: '1rem',\n    fontSize: '1.5rem',\n    color: theme.palette.secondary.light,\n    top: 0,\n    right: 0,\n    zIndex: 1\n  }\n});\n","// @flow\n\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\n\nimport * as LandingActions from '../actions/landingActions';\nimport LandingPageStyles from '../styles/landingPageStyles';\nimport withConnectedReactRouter from '../../shared/enhancers/withConnectedReactRouter';\nimport Timer from '../components/timer';\n\ntype Props = {\n  isFirstLanding: boolean,\n  counter: number,\n  brand: string,\n  classes: *\n};\n\nclass LandingPage extends Component<Props> {\n  componentDidMount() {\n    const {\n      isFirstLanding,\n      fetchLandingStatus,\n      fetchLandingPage,\n      push\n    } = this.props;\n\n    isFirstLanding ? push('/first/landing') : fetchLandingStatus();\n    fetchLandingPage && fetchLandingPage();\n  }\n\n  _handleNext = () => {\n    this.props.push('/election/home');\n  };\n\n  render() {\n    const { brand, classes, counter } = this.props;\n\n    return (\n      <div>\n        <Timer handleDone={this._handleNext} counter={counter} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  isFirstLanding: _.get(state, 'app.landing.isFirstLanding'),\n  counter: _.get(state, 'app.landing.landingPage.counter'),\n  brand: _.get(state, 'app.landing.landingPage.brand')\n});\n\nconst mapDispatchToProps = {\n  fetchLandingStatus: LandingActions.fetchLandingStatus,\n  fetchLandingPage: LandingActions.fetchLandingPage\n};\n\nconst enhancers = _.flowRight(\n  withStyles(LandingPageStyles),\n  withConnectedReactRouter,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n);\n\nexport default enhancers(LandingPage);\n","export default {\n  brand: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    maxWidth: '100%',\n    maxHeight: '100%'\n  }\n};\n","// @flow\n\nimport React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\n\nimport FirstLandingPage from \"./pages/firstLandingPage\";\nimport LandingPage from \"./pages/landingPage\";\nimport * as SettingsActions from \"../settings/actions/settingsActions\";\nimport withConnectedReactRouter from \"../shared/enhancers/withConnectedReactRouter\";\n\ntype Props = {\n  toggles: *,\n  fetchToggles: () => void\n};\n\nexport class Landing extends Component<Props> {\n  componentDidMount() {\n    const { fetchToggles, push } = this.props;\n\n    fetchToggles &&\n      fetchToggles().then(toggles => {\n        !toggles.landingAnimation && push(\"/election/home\");\n      });\n  }\n\n  render() {\n    const { toggles } = this.props;\n\n    return (\n      <Switch>\n        <Route exact path=\"/\" component={LandingPage} />\n        <Route path=\"/first/landing\" component={FirstLandingPage} />\n      </Switch>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  toggles: _.get(state, \"app.settings.togglesPage.toggles\")\n});\n\nconst mapDispatchToProps = {\n  fetchToggles: SettingsActions.fetchToggles\n};\n\nconst enhancers = _.flowRight(\n  withConnectedReactRouter,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n);\n\nexport default enhancers(Landing);\n"],"sourceRoot":""}